(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-258ba2d1"],{"0a39":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-operator",attrs:{align:"right"}},[a("a-button",{attrs:{type:"primary",icon:"upload"},on:{click:function(e){return t.openModal()}}},[t._v(" New ")])],1),a("a-list",{ref:"list",attrs:{size:"default",rowKey:"id",grid:{gutter:24,lg:1,md:1,sm:1,xs:1},dataSource:t.listData,loading:t.loading},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[[a("a-card",{attrs:{hoverable:!0}},[a("img",{attrs:{slot:"cover",src:e.image.full_size,alt:"images"},slot:"cover"}),a("a-card-meta",{attrs:{title:e.tag}}),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-popconfirm",{attrs:{title:"Are you sure delete this data?",okText:"Yes",cancelText:"No"},on:{confirm:function(a){return t.deleteData(e)}}},[a("a",{attrs:{href:"#"}},[t._v("Delete")])])],1)],2)]],2)}}])}),a("a-modal",{attrs:{title:void 0===this.form.id?"Create":"Edit"},on:{ok:t.upload},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("validation-observer",{ref:"observer"},[a("validation-provider",{attrs:{name:"non_field_errors"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])}),a("a-form",{attrs:{form:t.form,submit:t.upload,"label-col":{span:4},"wrapper-col":{span:16}}},[a("a-form-item",{attrs:{label:"Image"}},[a("validation-provider",{attrs:{vid:"image"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-upload",{attrs:{multiple:!1,fileList:t.fileList,beforeUpload:t.beforeUpload,disabled:t.fileList.length>0,remove:t.handleRemove}},[0==t.fileList.length?a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v(" Select File ")],1):t._e()],1),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1),a("a-form-item",{attrs:{label:"Tag"}},[a("validation-provider",{attrs:{vid:"tag"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[t.options?a("a-select",{model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}},t._l(t.options,(function(e){return a("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1):t._e(),a("a-textarea",{model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1)],1)],1)],1)},o=[],n=(a("99af"),a("c975"),a("fb6a"),a("a434"),a("a9e3"),a("d3b7"),a("2909")),i=a("685c"),s={name:"ImageList",props:{content_type:{type:String},options:{type:Array},object_id:{type:Number}},data:function(){return{loading:!1,uploading:!1,listData:void 0,modal:!1,form:{},fileList:[]}},mounted:function(){this.getListData()},methods:{getListData:function(){var t=this;this.loading=!0,Object(i["b"])({object_id:this.object_id,content_type:this.content_type}).then((function(e){t.listData=e.result})).finally((function(){t.loading=!1}))},deleteData:function(t){var e=this;this.loading=!0,Object(i["a"])(t.id).then((function(t){e.getListData()})).finally((function(){e.loading=!1}))},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;e||this.$message.error("You can only upload JPG or PNG file!");var a=t.size/1024/1024<2;return a||this.$message.error("Image must smaller than 2MB!"),e&&a&&(this.fileList=[].concat(Object(n["a"])(this.fileList),[t])),!1},handleRemove:function(t){var e=this.fileList.indexOf(t),a=this.fileList.slice();a.splice(e,1),this.fileList=a},upload:function(){var t=this,e=new FormData;e.append("image",this.fileList[0]),e.append("tag",this.form.tag),e.append("content_type",this.content_type),e.append("object_id",this.object_id),this.uploading=!0,Object(i["c"])(e).then((function(e){t.getListData(),t.modal=!1})).finally((function(){t.uploading=!1})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)}))},openModal:function(t){this.modal=!0,this.fileList=[],this.form={}}}},l=s,c=a("2877"),u=Object(c["a"])(l,r,o,!1,null,null,null);e["a"]=u.exports},"1ae9":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"f",(function(){return l}));var r=[{value:0,label:"Customer"},{value:1,label:"Staff"},{value:2,label:"Freelancer"},{value:3,label:"Operator"}],o=[{value:0,label:"Personal"},{value:1,label:"Company"}],n=[{value:0,label:"Apartment"},{value:1,label:"Villa"}],i=[{value:0,label:"Economy"},{value:1,label:"Standard"},{value:2,label:"Premium"},{value:3,label:"Customized"}],s=[{value:0,label:"Air Conditioner"},{value:1,label:"Electrical"},{value:2,label:"Plumbing"},{value:3,label:"House Cleaning"},{value:4,label:"Duct Cleaning"},{value:5,label:"Other"}],l=[{value:0,label:"Monday"},{value:1,label:"Tuesday"},{value:2,label:"Wednesday"},{value:3,label:"Thursday"},{value:4,label:"Friday"},{value:5,label:"Saturday"},{value:6,label:"Sunday"}]},"685c":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return s}));var r=a("365c"),o=a("b775");function n(t){return Object(o["b"])({url:r["a"].Images,method:"get",params:t})}function i(t){return Object(o["b"])({url:r["a"].Images,method:"post",data:t}).then(r["i"]).catch(r["h"])}function s(t){return Object(o["b"])({url:r["a"].Images+"".concat(t,"/"),method:"delete"}).then(r["e"]).catch(r["d"])}},"6bd4":function(t,e,a){"use strict";var r=a("8659"),o=a.n(r);o.a},8659:function(t,e,a){},a434:function(t,e,a){"use strict";var r=a("23e7"),o=a("23cb"),n=a("a691"),i=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),d=a("ae40"),f=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var a,r,u,d,f,m,g=s(this),_=i(g.length),O=o(t,_),y=arguments.length;if(0===y?a=r=0:1===y?(a=0,r=_-O):(a=y-2,r=b(p(n(e),0),_-O)),_+a-r>h)throw TypeError(v);for(u=l(g,r),d=0;d<r;d++)f=O+d,f in g&&c(u,d,g[f]);if(u.length=r,a<r){for(d=O;d<_-r;d++)f=d+r,m=d+a,f in g?g[m]=g[f]:delete g[m];for(d=_;d>_-r+a;d--)delete g[d-1]}else if(a>r)for(d=_-r;d>O;d--)f=d+r-1,m=d+a-1,f in g?g[m]=g[f]:delete g[m];for(d=0;d<a;d++)g[d+O]=arguments[d+2];return g.length=_-r+a,u}})},a857:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return i}));var r=[{value:0,label:"New"},{value:1,label:"Confirm"},{value:2,label:"Complete"},{value:3,label:"Pending"},{value:4,label:"Cancel"},{value:5,label:"Delete"}],o=[{value:0,label:"Air Conditioner"},{value:1,label:"Electrical"},{value:2,label:"Plumbing"},{value:3,label:"House Cleaning"}],n=[["AC cooling repair","AC noise repair","AC digital controller installation","AC controller repair","AC tripping repair","AC leakage repair","AC service","Other custom job e.g new AC unit installation"],["Light fixture repair","Power outlets & Switches repair","Light fixture installation","Water heater repair","Other custom job e.g LED installation"],["Water pump or motor repair","Water leakage repair","Small fitting (e.g.faucet) repair","Water tank cleaning","Other custom job e.g outdoor plumbing"],["General cleaning","Floor cleaning or pilishing"]],i=[[["Low cooling","Too much cooling","No cooling","Other(Provide in Instruction Box / attached photo)"],["Bed Room","Kitchen","Living Room","Bath Room","Other(Provide in Instruction Box / attached photo)"],["Reduce electricity bill","Convenience of the remote","Better control over temperature","Display of the controller","Other(Provide in Instruction Box / attached photo)"],["Bed Room","Kitchen","Living Room","Bath Room","Other(Provide in Instruction Box / attached photo)"],["Low cooling and no other reasons","Higher electricity bills","Frequent breakdowns","Reduced life of the compressor","Other(Provide in Instruction Box / attached photo)"],["Bed Room","Kitchen","Living Room","Bath Room","Other(Provide in Instruction Box / attached photo)"],["Dirty air","Low cooling","Using after a long time","Just regular service","Other(Provide in Instruction Box / attached photo)"],["New AC unit installation","AC unit replacement","AC unit relocation","Other(Provide in Instruction Box / attached photo)"]],[["Broken","Not working","Better design","Tripping","Other(Provide in Instruction Box / attached photo)"],["Broken","Not working","Better design","Tripping","Other(Provide in Instruction Box / attached photo)"],["Bedroom","Kitchen","Living Room","Bathroom","Other(Provide in Instruction Box / attached photo)"],["No or slow heating","Leaking","Overheating","Rusty or discolored water","Other(Provide in Instruction Box / attached photo)"],["Yellow Light","White Ligth","Spiral bright white","LED","Other(Provide in Instruction Box / attached photo)"],["Repair","New installation","Fitting relocation","Other(Provide in Instruction Box / attached photo)"]],[["Not starting or jammed","Too noisy","Low or no pressure","Leaking","Other(Provide in Instruction Box / attached photo)"],["Bedroom","Kitchen","Living Room","Bathroom","Other(Provide in Instruction Box / attached photo)"],["Broken","Clogged","Better quality","Leaking","Other(Provide in Instruction Box / attached photo)"],["Regular cleaning","Post construction cleaning","Not cleaned for too long","Water dirty or smelling","Other(Provide in Instruction Box / attached photo)"],["Repair","New installation","Other(Provide in Instruction Box / attached photo)"]],[["Regular cleaning","Pre Party cleaning","Post Party cleaning","Other(Provide in Instruction Box / attached photo)"],["Ceramic Tiles","Marble","Brick","Other(Provide in Instruction Box / attached photo)"]]]},ab06:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-view",{attrs:{title:t.title}},[a("a-card",{attrs:{bordered:!1,tabList:[{key:"base",scopedSlots:{tab:"tab_base"}},{key:"addition",scopedSlots:{tab:"tab_addition"}},{key:"job",scopedSlots:{tab:"tab_job"}},{key:"comment",scopedSlots:{tab:"tab_comment"}}],activeTabKey:t.$route.query.tab},on:{tabChange:t.tabChange}},[a("template",{slot:"tab_base"},[a("span",{staticClass:"text-lg"},[t._v("Base")])]),a("template",{slot:"tab_addition"},[a("a-badge",{attrs:{count:null==t.data.images?0:t.data.images.length,offset:[12]}},[a("span",{staticClass:"text-lg"},[t._v("Addition")])])],1),a("template",{slot:"tab_job"},[a("a-badge",{attrs:{count:null==t.data.jobs?0:t.data.jobs.length,offset:[12]}},[a("span",{staticClass:"text-lg"},[t._v("Job")])])],1),a("template",{slot:"tab_comment"},[a("a-badge",{attrs:{count:null==t.data.comments?0:t.data.comments.length,offset:[12]}},[a("span",{staticClass:"text-lg"},[t._v("Comment")])])],1),"base"===t.tab?a("base-info",{on:{data:t.setData}}):"addition"===t.tab?a("addition"):"job"===t.tab?a("job"):"comment"===t.tab?a("comment"):t._e()],2)],1)},o=[],n=(a("a4d3"),a("4de4"),a("4160"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),i=a("680a"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-spin",{attrs:{spinning:t.loading}},[a("validation-observer",{ref:"observer"},[a("validation-provider",{attrs:{name:"non_field_errors"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])}),a("a-form",{attrs:{form:t.form,submit:t.submit}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Service"}},[a("a-select",{attrs:{disabled:""},model:{value:t.form.service,callback:function(e){t.$set(t.form,"service",e)},expression:"form.service"}},t._l(t.ServiceOptions,(function(e){return a("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Main Info"}},[null!=t.form.service?a("a-select",{attrs:{disabled:""},model:{value:t.form.main_info,callback:function(e){t.$set(t.form,"main_info",e)},expression:"form.main_info"}},t._l(t.MainInfoOptions[t.form.service],(function(e,r){return a("a-select-option",{key:r,attrs:{value:r}},[t._v(t._s(e))])})),1):t._e()],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Sub Info"}},[null!=t.form.service&&null!=t.form.main_info?a("a-select",{attrs:{disabled:""},model:{value:t.form.sub_info,callback:function(e){t.$set(t.form,"sub_info",e)},expression:"form.sub_info"}},t._l(t.SubInfoOptions[t.form.service][t.form.main_info],(function(e,r){return a("a-select-option",{key:r,attrs:{value:r}},[t._v(t._s(e))])})),1):t._e()],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"From Date"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.from_date,callback:function(e){t.$set(t.form,"from_date",e)},expression:"form.from_date"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"To Date"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.to_date,callback:function(e){t.$set(t.form,"to_date",e)},expression:"form.to_date"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Create Date"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.create_at,callback:function(e){t.$set(t.form,"create_at",e)},expression:"form.create_at"}})],1)],1),t.form.user?a("div",[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"User"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.user.name,callback:function(e){t.$set(t.form.user,"name",e)},expression:"form.user.name"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Phone"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.user.phone_number,callback:function(e){t.$set(t.form.user,"phone_number",e)},expression:"form.user.phone_number"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Email"}},[t.form.user.email?a("a-input",{attrs:{disabled:""},model:{value:t.form.user.email.email,callback:function(e){t.$set(t.form.user.email,"email",e)},expression:"form.user.email.email"}}):a("a-input",{attrs:{disabled:""}})],1)],1)],1):t._e(),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Service Code"}},[a("validation-provider",{attrs:{name:"code"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-input",{model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Contract"}},[a("validation-provider",{attrs:{name:"status"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-select",{attrs:{allowClear:""},model:{value:t.form.contract_id,callback:function(e){t.$set(t.form,"contract_id",e)},expression:"form.contract_id"}},t._l(t.contracts,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[a("a-popover",[a("template",{slot:"content"},[a("ul",{staticClass:"px-4"},[a("li",[t._v("Option: "+t._s(t.Options[e.option].label))]),a("li",[t._v("Issue: "+t._s(e.issue_date))]),a("li",[t._v("Expiry: "+t._s(e.expiry_date))]),e.visits.length?a("li",[a("span",[t._v("Usage Count:")]),a("ul",{staticClass:"px-4"},t._l(e.visits,(function(e,r){return a("li",{key:r},[a("span",[t._v(" "+t._s(t.ServiceOptions[e.service].label)+" : "+t._s(e.count)+" ")])])})),0)]):a("li",[t._v(" Usage Count: No data ")]),a("li",[t._v("Address: "+t._s(e.address))]),a("li",[t._v("Remark: "+t._s(e.remark))])])]),t._v(" "+t._s(e.contractID)+" ")],2)],1)})),1),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"Status"}},[a("validation-provider",{attrs:{name:"status"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-select",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.StatusOptions,(function(e){return a("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Address"}},[a("validation-provider",{attrs:{name:"address"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1)],1),a("div",{attrs:{align:"right"}},[a("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:t.submit}},[t._v(" Submit ")])],1)],1),t.form.lat&&t.form.lng?a("div",{staticClass:"pt-10"},[a("div",{staticClass:"title"},[t._v("Map")]),a("gmap-map",{staticClass:"map",attrs:{center:{lat:t.form.lat,lng:t.form.lng},zoom:16,"map-type-id":"satellite"}},t._l(t.markers,(function(e,r){return a("gmap-marker",{key:r,attrs:{position:e.position,clickable:!0,draggable:!0},on:{click:function(a){t.center=e.position}}})})),1)],1):t._e()],1)],1)},l=[],c=(a("d3b7"),a("f8b7")),u=a("c24f"),d=a("1ae9"),f=a("c32d"),m=a.n(f),p=a("a857"),b={data:function(){return{Options:d["b"],StatusOptions:p["c"],ServiceOptions:p["b"],MainInfoOptions:p["a"],SubInfoOptions:p["d"],form:{},contracts:[],markers:[],loading:!1}},mounted:function(){this.getOrderData()},watch:{form:function(t){t&&(this.markers.push({id:this.lastId,position:{lat:t.lat,lng:t.lng},opacity:1,draggable:!0,enabled:!0,clicked:0,rightClicked:0,dragended:0,ifw:!1}),this.$emit("data",t))},"$route.params":function(t){this.getOrderData()}},methods:{moment:m.a,getOrderData:function(){var t=this;this.loading=!0,Object(c["b"])(this.$route.params.id).then((function(e){var a=e.result;return t.form=a,Object(u["k"])({user_id:t.form.user.id}).then((function(e){t.contracts=e.result}))})).finally((function(){t.loading=!1}))},submit:function(){var t=this;this.loading=!0,Object(c["d"])(this.$route.params.id,{status:this.form.status,address:this.form.address,user_id:this.form.user_id,contract_id:this.form.contract_id?this.form.contract_id:null}).then((function(e){var a=e.result;return t.form=a,Object(u["k"])({user_id:t.form.user.id}).then((function(e){t.contracts=e.result}))})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)})).finally((function(){t.loading=!1}))}}},h=b,v=(a("6bd4"),a("2877")),g=Object(v["a"])(h,s,l,!1,null,"5789e6b0",null),_=g.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-list",{staticClass:"comment-list",attrs:{itemLayout:"horizontal",dataSource:t.comments,loading:t.loading},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[e.user?a("a-comment",{attrs:{author:e.user.name,avatar:e.user.photo?e.user.photo.thumbnail:null}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v(t._s(e.comment))]),a("a-rate",{model:{value:e.rating,callback:function(a){t.$set(e,"rating",a)},expression:"item.rating"}})],1),a("span",{attrs:{slot:"datetime"},slot:"datetime"},[t._v(t._s(e.create_at))]),a("a",{on:{click:function(a){return t.openModal(e)}}},[t._v("Reply to")]),t._l(e.child,(function(r,o){return a("div",{key:r.id},[r.user?a("a-comment",{attrs:{author:r.user.username,avatar:r.user.photo?r.user.photo.thumbnail:null}},[a("div",{attrs:{slot:"content"},slot:"content"},[r.image&&r.image.medium?a("img",{attrs:{src:r.image.medium,alt:"image"}}):t._e(),a("p",{staticClass:"pt-4"},[t._v(t._s(r.comment))]),o<e.child.length-1?a("a-divider"):t._e()],1),a("span",{attrs:{slot:"datetime"},slot:"datetime"},[t._v(t._s(e.create_at))])]):t._e()],1)}))],2):t._e()],1)}}])}),a("a-modal",{attrs:{title:"Reply to"},on:{ok:t.submit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("validation-observer",{ref:"observer"},[a("validation-provider",{attrs:{name:"non_field_errors"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])}),a("a-form",{attrs:{form:t.from}},[a("a-form-item",[a("validation-provider",{attrs:{vid:"comment"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-input",{model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1)],1)],1)],1)},y=[],k=a("365c"),x=a("b775");function j(t){return Object(x["b"])({url:k["a"].Comments,method:"get",params:t})}function C(t){return Object(x["b"])({url:k["a"].Comments,method:"post",data:t}).then(k["c"]).catch(k["b"])}var S={data:function(){return{modal:!1,form:{},loading:!1,comments:void 0}},mounted:function(){this.getListData()},methods:{openModal:function(t){this.form={object_id:t.id},this.modal=!0},getListData:function(){var t=this;j({object_id:this.$route.params.id,content_type:"order"}).then((function(e){t.comments=e.result})).finally((function(){t.loading=!1}))},submit:function(){var t=this;C({object_id:this.form.object_id,content_type:"comment",user_id:this.$store.getters.id,comment:this.form.comment,rating:null}).then((function(e){return t.modal=!1,t.getListData()})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)}))}}},D=S,w=Object(v["a"])(D,O,y,!1,null,null,null),I=w.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-operator",attrs:{align:"right"}},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.openModal()}}},[t._v(" New ")])],1),a("s-table",{ref:"table",attrs:{rowKey:function(t){return t.id},columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"action",fn:function(e){return[a("a",{attrs:{href:"#"},on:{click:function(a){return t.openModal(e)}}},[t._v("Edit")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"Are you sure delete this data?",okText:"Yes",cancelText:"No"},on:{confirm:function(a){return t.deleteData(e)}}},[a("a",{attrs:{href:"#"}},[t._v("Delete")])])]}}])}),a("a-modal",{attrs:{title:void 0===this.form.id?"Create":"Edit"},on:{ok:t.submit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("validation-observer",{ref:"observer"},[a("validation-provider",{attrs:{name:"non_field_errors"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])}),a("a-form",{attrs:{form:t.form,submit:t.submit,"label-col":{span:6},"wrapper-col":{span:12}}},[a("a-form-item",{attrs:{label:"Action Date"}},[a("validation-provider",{attrs:{vid:"date",name:"action date"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-date-picker",{staticClass:"w-full",attrs:{format:"YYYY-MM-DD HH:mm",showTime:{defaultValue:t.moment("00:00:00","HH:mm")}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1),a("a-form-item",{attrs:{label:"Card"}},[a("validation-provider",{attrs:{vid:"card"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-input",{staticClass:"w-full",model:{value:t.form.card,callback:function(e){t.$set(t.form,"card",e)},expression:"form.card"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1),a("a-form-item",{attrs:{label:"Unit"}},[a("validation-provider",{attrs:{vid:"unit"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-input-number",{staticClass:"w-full",model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1),a("a-form-item",{attrs:{label:"Staff ID",help:"Staff ID is user ID, user list check ID"}},[a("validation-provider",{attrs:{vid:"staff_id",name:"staff id"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-input-number",{staticClass:"w-full",model:{value:t.form.staff_id,callback:function(e){t.$set(t.form,"staff_id",e)},expression:"form.staff_id"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1),a("a-form-item",{attrs:{label:"Remark"}},[a("validation-provider",{attrs:{vid:"remark"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-textarea",{model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1)],1)],1)],1)},P=[],B=a("2af9");function L(t){return Object(x["b"])({url:k["a"].Jobs,method:"get",params:t})}function T(t,e){return Object(x["b"])({url:k["a"].Jobs+"".concat(t,"/"),method:"put",data:e}).then(k["g"]).catch(k["f"])}function A(t){return Object(x["b"])({url:k["a"].Jobs,method:"post",data:t}).then(k["c"]).catch(k["b"])}function R(t){return Object(x["b"])({url:k["a"].Jobs+"".concat(t,"/"),method:"delete"}).then(k["e"]).catch(k["d"])}var E={components:{STable:B["c"]},data:function(){var t=this;return{queryParam:{},columns:[{title:"JOBID",dataIndex:"jobID",align:"center"},{title:"ACTION DATE",dataIndex:"date",align:"center"},{title:"CARD",dataIndex:"card",align:"center"},{title:"STAFF",dataIndex:"staff.name",align:"center"},{title:"ACTION",width:"140px",scopedSlots:{customRender:"action"},align:"center"}],loadData:function(e){return L(Object.assign(e,t.queryParam,{order_id:t.$route.params.id})).then((function(t){return t.result}))},modal:!1,form:{},date:m()(new Date)}},methods:{moment:m.a,openModal:function(t){this.modal=!0,this.form=Object.assign({},t),this.date=m()(new Date)},submit:function(){var t=this;void 0===this.form.id?A(Object.assign(this.form,{date:this.date.format("YYYY-MM-DD HH:mm:ss"),order_id:this.$route.params.id})).then((function(e){t.modal=!1,t.$refs.table.refresh()})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)})):T(this.form.id,Object.assign(this.form,{date:this.date.format("YYYY-MM-DD HH:mm:ss")})).then((function(e){t.modal=!1,t.$refs.table.refresh()})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)}))},deleteData:function(t){var e=this;R(t.id).then((function(t){e.$refs.table.refresh()}))}}},M=E,N=Object(v["a"])(M,$,P,!1,null,null,null),Y=N.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("image-list",{attrs:{content_type:"order",object_id:t.$route.params.id}})],1)},H=[],J=a("0a39"),W={components:{ImageList:J["a"]}},q=W,F=Object(v["a"])(q,U,H,!1,null,null,null),K=F.exports;function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var V={components:{PageView:i["b"],BaseInfo:_,Addition:K,Job:Y,Comment:I},data:function(){return{data:{},title:"Order"}},computed:{tab:function(){return this.$route.query.tab?this.$route.query.tab:"base"}},methods:{setData:function(t){this.data=t,this.title="Order: "+t.orderID},tabChange:function(t){this.$router.push(G({},this.$route,{name:this.$route.name,query:Object.assign({},this.$route.query,{tab:t})}))}}},Q=V,X=Object(v["a"])(Q,r,o,!1,null,null,null);e["default"]=X.exports},c24f:function(t,e,a){"use strict";a.d(e,"n",(function(){return n})),a.d(e,"m",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"s",(function(){return l})),a.d(e,"k",(function(){return c})),a.d(e,"q",(function(){return u})),a.d(e,"b",(function(){return d})),a.d(e,"g",(function(){return f})),a.d(e,"j",(function(){return m})),a.d(e,"p",(function(){return p})),a.d(e,"a",(function(){return b})),a.d(e,"f",(function(){return h})),a.d(e,"l",(function(){return v})),a.d(e,"r",(function(){return g})),a.d(e,"c",(function(){return _})),a.d(e,"h",(function(){return O})),a.d(e,"o",(function(){return y})),a.d(e,"t",(function(){return k})),a.d(e,"e",(function(){return x})),a.d(e,"i",(function(){return j}));var r=a("365c"),o=a("b775");function n(t){return Object(o["b"])({url:r["a"].Users,method:"get",params:t})}function i(t){return Object(o["b"])({url:r["a"].Users+"".concat(t,"/"),method:"get"})}function s(t){return Object(o["b"])({url:r["a"].Users,method:"post",data:t}).then(r["c"]).catch(r["b"])}function l(t,e){return Object(o["b"])({url:r["a"].Users+"".concat(t,"/"),method:"put",data:e}).then(r["g"]).catch(r["f"])}function c(t){return Object(o["b"])({url:r["a"].Contracts,method:"get",params:t})}function u(t,e){return Object(o["b"])({url:r["a"].Contracts+"".concat(t,"/"),method:"put",data:e}).then(r["g"]).catch(r["f"])}function d(t){return Object(o["b"])({url:r["a"].Contracts,method:"post",data:t}).then(r["c"]).catch(r["b"])}function f(t){return Object(o["b"])({url:r["a"].Contracts+"".concat(t,"/"),method:"delete"}).then(r["e"]).catch(r["d"])}function m(t){return Object(o["b"])({url:r["a"].Address,method:"get",params:t})}function p(t,e){return Object(o["b"])({url:r["a"].Address+"".concat(t,"/"),method:"put",data:e}).then(r["g"]).catch(r["f"])}function b(t){return Object(o["b"])({url:r["a"].Address,method:"post",data:t}).then(r["c"]).catch(r["b"])}function h(t){return Object(o["b"])({url:r["a"].Address+"".concat(t,"/"),method:"delete"}).then(r["e"]).catch(r["d"])}function v(t){return Object(o["b"])({url:r["a"].Skills,method:"get",params:t})}function g(t,e){return Object(o["b"])({url:r["a"].Skills+"".concat(t,"/"),method:"put",data:e}).then(r["g"]).catch(r["f"])}function _(t){return Object(o["b"])({url:r["a"].Skills,method:"post",data:t}).then(r["c"]).catch(r["b"])}function O(t){return Object(o["b"])({url:r["a"].Skills+"".concat(t,"/"),method:"delete"}).then(r["e"]).catch(r["d"])}function y(t){return Object(o["b"])({url:r["a"].WorkTimes,method:"get",params:t})}function k(t,e){return Object(o["b"])({url:r["a"].WorkTimes+"".concat(t,"/"),method:"put",data:e}).then(r["g"]).catch(r["f"])}function x(t){return Object(o["b"])({url:r["a"].WorkTimes,method:"post",data:t}).then(r["c"]).catch(r["b"])}function j(t){return Object(o["b"])({url:r["a"].WorkTimes+"".concat(t,"/"),method:"delete"}).then(r["e"]).catch(r["d"])}},f8b7:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return l}));var r=a("365c"),o=a("b775");function n(t){return Object(o["b"])({url:r["a"].Orders,method:"get",params:t})}function i(t){return Object(o["b"])({url:r["a"].Orders+"".concat(t,"/"),method:"get"})}function s(t,e){return Object(o["b"])({url:r["a"].Orders+"".concat(t,"/"),method:"put",data:e}).then(r["g"]).catch(r["f"])}function l(t){return Object(o["b"])({url:r["a"].Orders,method:"post",data:t}).then(r["c"]).catch(r["b"])}},fb6a:function(t,e,a){"use strict";var r=a("23e7"),o=a("861d"),n=a("e8b5"),i=a("23cb"),s=a("50c4"),l=a("fc6a"),c=a("8418"),u=a("b622"),d=a("1dde"),f=a("ae40"),m=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),b=u("species"),h=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!m||!p},{slice:function(t,e){var a,r,u,d=l(this),f=s(d.length),m=i(t,f),p=i(void 0===e?f:e,f);if(n(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?o(a)&&(a=a[b],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(d,m,p);for(r=new(void 0===a?Array:a)(v(p-m,0)),u=0;m<p;m++,u++)m in d&&c(r,u,d[m]);return r.length=u,r}})}}]);