(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-564c9412"],{"0a39":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-operator",attrs:{align:"right"}},[a("a-button",{attrs:{type:"primary",icon:"upload"},on:{click:function(e){return t.openModal()}}},[t._v(" New ")])],1),a("a-list",{ref:"list",attrs:{size:"default",rowKey:"id",grid:{gutter:24,lg:1,md:1,sm:1,xs:1},dataSource:t.listData,loading:t.loading},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[[a("a-card",{attrs:{hoverable:!0}},[a("img",{attrs:{slot:"cover",src:e.image.full_size,alt:"images"},slot:"cover"}),a("a-card-meta",{attrs:{title:e.tag}}),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-popconfirm",{attrs:{title:"Are you sure delete this data?",okText:"Yes",cancelText:"No"},on:{confirm:function(a){return t.deleteData(e)}}},[a("a",{attrs:{href:"#"}},[t._v("Delete")])])],1)],2)]],2)}}])}),a("a-modal",{attrs:{title:void 0===this.form.id?"Create":"Edit"},on:{ok:t.upload},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("validation-observer",{ref:"observer"},[a("validation-provider",{attrs:{name:"non_field_errors"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])}),a("a-form",{attrs:{form:t.form,submit:t.upload,"label-col":{span:4},"wrapper-col":{span:16}}},[a("a-form-item",{attrs:{label:"Image"}},[a("validation-provider",{attrs:{vid:"image"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("a-upload",{attrs:{multiple:!1,fileList:t.fileList,beforeUpload:t.beforeUpload,disabled:t.fileList.length>0,remove:t.handleRemove}},[0==t.fileList.length?a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v(" Select File ")],1):t._e()],1),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1),a("a-form-item",{attrs:{label:"Tag"}},[a("validation-provider",{attrs:{vid:"tag"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[t.options?a("a-select",{model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}},t._l(t.options,(function(e){return a("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1):t._e(),a("a-textarea",{model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}}),a("span",{staticClass:"errorText"},[t._v(t._s(r[0]))])]}}])})],1)],1)],1)],1)],1)},n=[],i=(a("99af"),a("c975"),a("fb6a"),a("a434"),a("a9e3"),a("d3b7"),a("2909")),o=a("685c"),s={name:"ImageList",props:{content_type:{type:String},options:{type:Array},object_id:{type:Number}},data:function(){return{loading:!1,uploading:!1,listData:void 0,modal:!1,form:{},fileList:[]}},mounted:function(){this.getListData()},methods:{getListData:function(){var t=this;this.loading=!0,Object(o["b"])({object_id:this.object_id,content_type:this.content_type}).then((function(e){t.listData=e.result})).finally((function(){t.loading=!1}))},deleteData:function(t){var e=this;this.loading=!0,Object(o["a"])(t.id).then((function(t){e.getListData()})).finally((function(){e.loading=!1}))},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;e||this.$message.error("You can only upload JPG or PNG file!");var a=t.size/1024/1024<2;return a||this.$message.error("Image must smaller than 2MB!"),e&&a&&(this.fileList=[].concat(Object(i["a"])(this.fileList),[t])),!1},handleRemove:function(t){var e=this.fileList.indexOf(t),a=this.fileList.slice();a.splice(e,1),this.fileList=a},upload:function(){var t=this,e=new FormData;e.append("image",this.fileList[0]),e.append("tag",this.form.tag),e.append("content_type",this.content_type),e.append("object_id",this.object_id),this.uploading=!0,Object(o["c"])(e).then((function(e){t.getListData(),t.modal=!1})).finally((function(){t.uploading=!1})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)}))},openModal:function(t){this.modal=!0,this.fileList=[],this.form={}}}},l=s,c=a("2877"),u=Object(c["a"])(l,r,n,!1,null,null,null);e["a"]=u.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),n=a("5899"),i="["+n+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"685c":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return s}));var r=a("365c"),n=a("b775");function i(t){return Object(n["b"])({url:r["a"].Images,method:"get",params:t})}function o(t){return Object(n["b"])({url:r["a"].Images,method:"post",data:t}).then(r["i"]).catch(r["h"])}function s(t){return Object(n["b"])({url:r["a"].Images+"".concat(t,"/"),method:"delete"}).then(r["e"]).catch(r["d"])}},7156:function(t,e,a){var r=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var i,o;return n&&"function"==typeof(i=e.constructor)&&i!==a&&r(o=i.prototype)&&o!==a.prototype&&n(t,o),t}},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),i=a("a691"),o=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),f=a("ae40"),d=u("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!p},{splice:function(t,e){var a,r,u,f,d,p,b=s(this),_=o(b.length),y=n(t,_),I=arguments.length;if(0===I?a=r=0:1===I?(a=0,r=_-y):(a=I-2,r=g(m(i(e),0),_-y)),_+a-r>h)throw TypeError(v);for(u=l(b,r),f=0;f<r;f++)d=y+f,d in b&&c(u,f,b[d]);if(u.length=r,a<r){for(f=y;f<_-r;f++)d=f+r,p=f+a,d in b?b[p]=b[d]:delete b[p];for(f=_;f>_-r+a;f--)delete b[f-1]}else if(a>r)for(f=_-r;f>y;f--)d=f+r-1,p=f+a-1,d in b?b[p]=b[d]:delete b[p];for(f=0;f<a;f++)b[f+y]=arguments[f+2];return b.length=_-r+a,u}})},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("94ca"),o=a("6eeb"),s=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),f=a("d039"),d=a("7c73"),p=a("241c").f,m=a("06cf").f,g=a("9bf2").f,h=a("58a8").trim,v="Number",b=n[v],_=b.prototype,y=l(d(_))==v,I=function(t){var e,a,r,n,i,o,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>n)return NaN;return parseInt(i,r)}return+c};if(i(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,E=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof E&&(y?f((function(){_.valueOf.call(a)})):l(a)!=v)?c(new b(I(e)),a,E):I(e)},L=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;L.length>N;N++)s(b,x=L[N])&&!s(E,x)&&g(E,x,m(b,x));E.prototype=_,_.constructor=E,o(n,v,E)}},c48b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("image-list",{attrs:{content_type:"user",options:t.options,object_id:t.$route.params.id}})],1)},n=[],i=a("0a39"),o={components:{ImageList:i["a"]},data:function(){return{options:[{value:"EmiratesID",label:"EmiratesID"},{value:"Driver License",label:"Driver License"}]}}},s=o,l=a("2877"),c=Object(l["a"])(s,r,n,!1,null,null,null);e["default"]=c.exports},fb6a:function(t,e,a){"use strict";var r=a("23e7"),n=a("861d"),i=a("e8b5"),o=a("23cb"),s=a("50c4"),l=a("fc6a"),c=a("8418"),u=a("b622"),f=a("1dde"),d=a("ae40"),p=f("slice"),m=d("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),h=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!p||!m},{slice:function(t,e){var a,r,u,f=l(this),d=s(f.length),p=o(t,d),m=o(void 0===e?d:e,d);if(i(f)&&(a=f.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?n(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(f,p,m);for(r=new(void 0===a?Array:a)(v(m-p,0)),u=0;p<m;p++,u++)p in f&&c(r,u,f[p]);return r.length=u,r}})}}]);